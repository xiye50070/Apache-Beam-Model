<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>

<configuration> 
  <property> 
    <name>hive.metastore.uris</name>  
    <value>thrift://henghe-54:9083,thrift://henghe203:9083</value> 
  </property>  
  <property> 
    <name>javax.jdo.option.ConnectionURL</name>  
    <value>jdbc:mysql://192.168.165.26:3306/hive</value> 
  </property>  
  <property> 
    <name>javax.jdo.option.ConnectionDriverName</name>  
    <value>com.mysql.cj.jdbc.Driver</value> 
  </property>  
  <property> 
    <name>javax.jdo.option.ConnectionUserName</name>  
    <value>hive</value> 
  </property>  
  <property> 
    <name>javax.jdo.option.ConnectionPassword</name>  
    <value>1q2w3eHIVE!</value> 
  </property>  
  <property> 
    <name>hive.metastore.schema.verification</name>  
    <value>false</value> 
  </property>  
  <property> 
    <name>hive.server2.enable.doAs</name>  
    <value>true</value> 
  </property>  
  <property> 
    <name>hive.exec.pre.hooks</name>  
    <value>com.yss.henghe.hive.hook.YssHiveHookRecorder</value> 
  </property>  
  <property> 
    <name>hive.exec.post.hooks</name>  
    <value>com.yss.henghe.hive.hook.YssHiveHookRecorder,org.apache.atlas.hive.hook.HiveHook</value> 
  </property>  
  <property> 
    <name>hive.exec.failure.hooks</name>  
    <value>com.yss.henghe.hive.hook.YssHiveHookRecorder</value> 
  </property>  
  <property> 
    <name>monitor.host</name>  
    <value>henghe-18:8511</value> 
  </property>  
  <!-- spark配置 -->  
  <property> 
    <name>hive.execution.engine</name>  
    <value>spark</value> 
  </property>  
  <property> 
    <name>spark.submit.deployMode</name>  
    <value>cluster</value> 
  </property>  
  <property> 
    <name>spark.yarn.jar</name>  
    <value>hdfs://master/hive/spark_jars/*</value> 
  </property>  
  <property> 
    <name>spark.serializer</name>  
    <value>org.apache.spark.serializer.KryoSerializer</value> 
  </property>  
  <property> 
    <name>spark.executor.memeory</name>  
    <value>2g</value> 
  </property>  
  <property> 
    <name>spark.driver.memeory</name>  
    <value>2g</value> 
  </property>  
  <property> 
    <name>spark.executor.cores</name>  
    <value>2</value> 
  </property>  
  <property> 
    <name>spark.executor.extraJavaOptions</name>  
    <value>-XX:+PrintGCDetails -Dkey=value -Dnumbers="one two three"</value> 
  </property>  
  <property> 
    <name>hive.server2.long.polling.timeout</name>  
    <value>5000</value>  
    <description>Time in milliseconds that HiveServer2 will wait, before responding to asynchronous calls that use long polling</description> 
  </property>  
  <!-- hive server2的使用端口，默认就是10000-->  
  <property> 
    <name>hive.server2.thrift.port</name>  
    <value>10000</value>  
    <description>Port number of HiveServer2 Thrift interface. Can be overridden by setting $HIVE_SERVER2_THRIFT_PORT</description> 
  </property>  
  <property> 
    <name>hive.server2.logging.operation.level</name>  
    <value>EXECUTION</value> 
  </property>  
  <!--Hive  HA新增的配置-->  
  <property> 
    <name>spark.deploy.recoveryMode</name>  
    <value>ZOOKEEPER</value> 
  </property>  
  <!--设置hiveserve支持动态-->  
  <property> 
    <name>hive.server2.support.dynamic.service.discovery</name>  
    <value>true</value> 
  </property>  
  <!--设置hiveserver2的命名空间-->  
  <property> 
    <name>hive.server2.zookeeper.namespace</name>  
    <value>hiveserver2_zk</value> 
  </property>  
  <!--设置zk集群的客户端地址-->  
  <property> 
    <name>hive.zookeeper.quorum</name>  
    <value>henghe-56:2181,henghe66:2181,henghe67:2181</value> 
  </property>  
  <!--指定zk的端口-->  
  <property> 
    <name>hive.zookeeper.client.port</name>  
    <value>2181</value> 
  </property>  
  <!--指定hive.server2.thrift.bind.host-->  
  <property> 
    <name>hive.server2.thrift.bind.host</name>  
    <value>henghe-54</value> 
  </property>  
  <property> 
    <name>hive.server2.webui.host</name>  
    <value>henghe-54</value> 
  </property>  
  <property> 
    <name>hive.server2.webui.port</name>  
    <value>10002</value> 
  </property>  
  <property> 
    <name>yarn.timeline-service.enabled</name>  
    <value>true</value> 
  </property>  
  <property> 
    <name>hive.metastore.metrics.enabled</name>  
    <value>true</value> 
  </property>  
  <property> 
    <name>hive.server2.metrics.enabled</name>  
    <value>true</value> 
  </property> 
 <property>
          <name>hive.metastore.sasl.enabled</name>
          <value>true</value>
     </property>
     <property>
          <name>hive.metastore.kerberos.keytab.file</name>
          <value>/opt/keytabs/henghe.keytab</value>
     </property>
     <property>
          <name>hive.metastore.kerberos.principal</name>
          <value>henghe/_HOST@HENGHE.COM</value>
     </property>
     <property>
          <name>hive.server2.authentication</name>
          <value>KERBEROS</value>
     </property>
     <property>
          <name>hive.server2.authentication.kerberos.principal</name>
          <value>henghe/_HOST@HENGHE.COM</value>
     </property>
     <property>
          <name>hive.server2.authentication.kerberos.keytab</name>
          <value>/opt/keytabs/henghe.keytab</value>
     </property>
  
     <property>
          <name>hive.server2.webui.use.spnego</name>
          <value>true</value>
     </property>
     <property>
          <name>hive.server2.webui.spnego.keytab</name>
          <value>/opt/keytabs/henghe.keytab</value>
     </property>
     <property>
          <name>hive.server2.webui.spnego.principal</name>
          <value>HTTP/_HOST@HENGHE.COM</value>
     </property>
  
     <property>
          <name>hive.server2.webui.use.spnego</name>
          <value>true</value>
     </property>
     <property>
          <name>hive.server2.webui.spnego.keytab</name>
          <value>/opt/keytabs/henghe.keytab</value>
     </property>
     <property>
          <name>hive.server2.webui.spnego.principal</name>
          <value>HTTP/_HOST@HENGHE.COM</value>
     </property>
</configuration>